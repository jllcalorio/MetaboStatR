<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Perform Comprehensive Data Quality Check for Metabolomics Data — perform_DataQualityCheck • MetaboStatR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Perform Comprehensive Data Quality Check for Metabolomics Data — perform_DataQualityCheck"><meta property="og:description" content="This function imports and validates metabolomics data from Excel, CSV, TSV, or text files,
performing comprehensive quality controls to ensure data integrity and compatibility with
downstream analysis functions. The function validates data structure, checks for required
metadata rows, ensures uniqueness constraints, cleans special characters from identifiers,
and prepares data for preprocessing pipelines.
Key validation checks include:
Presence of required metadata rows (Sample, SubjectID, Replicate, Group, Batch, Injection, Normalization, Response)
Uniqueness of sample names, injection sequences, and feature/metabolite identifiers
Proper QC sample annotation (empty values in SubjectID, Replicate, Normalization, Response for QC samples)
Numeric validation of feature/metabolite data
Character cleaning and standardization of identifiers

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MetaboStatR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to MetaboStatR</a>
    </li>
    <li>
      <a href="../articles/metabolomics-workflow.html">Complete Metabolomics Analysis Workflow</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform Comprehensive Data Quality Check for Metabolomics Data</h1>

    <div class="hidden name"><code>perform_DataQualityCheck.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function imports and validates metabolomics data from Excel, CSV, TSV, or text files,
performing comprehensive quality controls to ensure data integrity and compatibility with
downstream analysis functions. The function validates data structure, checks for required
metadata rows, ensures uniqueness constraints, cleans special characters from identifiers,
and prepares data for preprocessing pipelines.</p>
<p>Key validation checks include:</p><ul><li><p>Presence of required metadata rows (Sample, SubjectID, Replicate, Group, Batch, Injection, Normalization, Response)</p></li>
<li><p>Uniqueness of sample names, injection sequences, and feature/metabolite identifiers</p></li>
<li><p>Proper QC sample annotation (empty values in SubjectID, Replicate, Normalization, Response for QC samples)</p></li>
<li><p>Numeric validation of feature/metabolite data</p></li>
<li><p>Character cleaning and standardization of identifiers</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">perform_DataQualityCheck</span><span class="op">(</span></span>
<span>  file_location <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sheet_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  skip_rows <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  separator <span class="op">=</span> <span class="st">","</span>,</span>
<span>  validate_qc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  allow_missing_optional <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  clean_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-file-location">file_location<a class="anchor" aria-label="anchor" href="#arg-file-location"></a></dt>
<dd><p>Character string specifying the file path. If NULL, an interactive
file selection dialog will open. Supported formats: .xlsx, .csv, .tsv, .txt</p></dd>


<dt id="arg-sheet-name">sheet_name<a class="anchor" aria-label="anchor" href="#arg-sheet-name"></a></dt>
<dd><p>Character string specifying the Excel worksheet name. Ignored for
non-Excel files. If NULL for Excel files, the first sheet is used.</p></dd>


<dt id="arg-skip-rows">skip_rows<a class="anchor" aria-label="anchor" href="#arg-skip-rows"></a></dt>
<dd><p>Integer specifying the number of rows to skip when reading the file.
Default is 0.</p></dd>


<dt id="arg-separator">separator<a class="anchor" aria-label="anchor" href="#arg-separator"></a></dt>
<dd><p>Character string specifying the field separator for delimited files.
Common values: "," (comma), "\t" (tab). Default is ",". Ignored for Excel files.</p></dd>


<dt id="arg-validate-qc">validate_qc<a class="anchor" aria-label="anchor" href="#arg-validate-qc"></a></dt>
<dd><p>Logical indicating whether to enforce QC validation rules.
Default is TRUE.</p></dd>


<dt id="arg-allow-missing-optional">allow_missing_optional<a class="anchor" aria-label="anchor" href="#arg-allow-missing-optional"></a></dt>
<dd><p>Logical indicating whether to allow missing values in
optional metadata rows (SubjectID, Replicate, Normalization, Response). Default is TRUE.</p></dd>


<dt id="arg-clean-names">clean_names<a class="anchor" aria-label="anchor" href="#arg-clean-names"></a></dt>
<dd><p>Logical indicating whether to clean special characters from names.
Default is TRUE.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical indicating whether to display progress messages. Default is TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing:</p>
<dl><dt>raw_data</dt>
<dd><p>Data frame with the original data as loaded from the file</p></dd>

<dt>quality_checked_data</dt>
<dd><p>Data frame with validated and cleaned data, sorted by injection sequence</p></dd>

<dt>metadata_summary</dt>
<dd><p>Summary statistics of the metadata</p></dd>

<dt>validation_report</dt>
<dd><p>Detailed validation results</p></dd>

<dt>file_info</dt>
<dd><p>Information about the source file</p></dd>

<dt>processing_log</dt>
<dd><p>Log of all processing steps performed</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The input data must follow a specific structure:</p><ul><li><p>Row 1: "Sample" - Unique sample identifiers (no spaces recommended)</p></li>
<li><p>Row 2: "SubjectID" - Numeric subject identifiers (can be non-unique)</p></li>
<li><p>Row 3: "Replicate" - Replicate identifiers (can be non-unique)</p></li>
<li><p>Row 4: "Group" - Group assignments including QC samples</p></li>
<li><p>Row 5: "Batch" - Batch numbers</p></li>
<li><p>Row 6: "Injection" - Unique injection sequence numbers</p></li>
<li><p>Row 7: "Normalization" - Concentration markers (e.g., osmolality)</p></li>
<li><p>Row 8: "Response" - Response variable values</p></li>
<li><p>Rows 9+: Feature/metabolite data (e.g., m/z@retention_time format)</p></li>
</ul><p>Missing values should be left blank or encoded as 0. QC samples in the Group row
must have empty values in SubjectID, Replicate, Normalization, and Response rows.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="perform_PreprocessingPeakData.html">perform_PreprocessingPeakData</a></code> for the next step in the analysis pipeline</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>John Lennon L. Calorio</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Basic usage with file selection dialog</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">perform_DataQualityCheck</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify file location directly</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">perform_DataQualityCheck</span><span class="op">(</span></span></span>
<span class="r-in"><span>  file_location <span class="op">=</span> <span class="st">"path/to/metabolomics_data.xlsx"</span>,</span></span>
<span class="r-in"><span>  sheet_name <span class="op">=</span> <span class="st">"Sheet1"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># CSV file with custom separator</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">perform_DataQualityCheck</span><span class="op">(</span></span></span>
<span class="r-in"><span>  file_location <span class="op">=</span> <span class="st">"path/to/data.csv"</span>,</span></span>
<span class="r-in"><span>  separator <span class="op">=</span> <span class="st">";"</span>,</span></span>
<span class="r-in"><span>  skip_rows <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Access results</span></span></span>
<span class="r-in"><span><span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">raw_data</span></span></span>
<span class="r-in"><span><span class="va">validation_summary</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">validation_report</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Lennon Calorio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

