<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Comprehensive Data Preprocessing Pipeline — perform_PreprocessingPeakData • MetaboStatR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Comprehensive Data Preprocessing Pipeline — perform_PreprocessingPeakData"><meta property="og:description" content="Performs a complete data preprocessing workflow to prepare raw data for
downstream analysis. This function applies preprocessing steps sequentially
in the order specified by the parameters to ensure optimal data quality
and analytical readiness."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MetaboStatR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to MetaboStatR</a>
    </li>
    <li>
      <a href="../articles/metabolomics-workflow.html">Complete Metabolomics Analysis Workflow</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Comprehensive Data Preprocessing Pipeline</h1>

    <div class="hidden name"><code>perform_PreprocessingPeakData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a complete data preprocessing workflow to prepare raw data for
downstream analysis. This function applies preprocessing steps sequentially
in the order specified by the parameters to ensure optimal data quality
and analytical readiness.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">perform_PreprocessingPeakData</span><span class="op">(</span></span>
<span>  <span class="va">raw_data</span>,</span>
<span>  outliers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filterMissing <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  filterMissing_by_group <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  filterMissing_includeQC <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  denMissing <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  driftBatchCorrection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  spline_smooth_param <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  spline_smooth_param_limit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  log_scale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  min_QC <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  removeUncorrectedFeatures <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dataNormalize <span class="op">=</span> <span class="st">"Normalization"</span>,</span>
<span>  refSample <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  groupSample <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reference_method <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  dataTransform <span class="op">=</span> <span class="st">"vsn"</span>,</span>
<span>  dataScalePCA <span class="op">=</span> <span class="st">"meanSD"</span>,</span>
<span>  dataScalePLS <span class="op">=</span> <span class="st">"mean2SD"</span>,</span>
<span>  filterMaxRSD <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  filterMaxRSD_by <span class="op">=</span> <span class="st">"EQC"</span>,</span>
<span>  filterMaxVarSD <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-raw-data">raw_data<a class="anchor" aria-label="anchor" href="#arg-raw-data"></a></dt>
<dd><p>List. Quality-checked data from the <code>perform_DataQualityCheck</code> function.</p></dd>


<dt id="arg-outliers">outliers<a class="anchor" aria-label="anchor" href="#arg-outliers"></a></dt>
<dd><p>Vector. Biological samples and/or QC samples considered as outliers. Example format: <code>c('Sample1', 'Sample2', 'QC1', 'QC2', ...)</code>. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-filtermissing">filterMissing<a class="anchor" aria-label="anchor" href="#arg-filtermissing"></a></dt>
<dd><p>Numeric. Minimum percentage of missing values across all groups required to remove a feature.</p></dd>


<dt id="arg-filtermissing-by-group">filterMissing_by_group<a class="anchor" aria-label="anchor" href="#arg-filtermissing-by-group"></a></dt>
<dd><p>Boolean. Determines whether <code>filterMissing</code> should assess group-specific missingness before feature removal.</p></dd>


<dt id="arg-filtermissing-includeqc">filterMissing_includeQC<a class="anchor" aria-label="anchor" href="#arg-filtermissing-includeqc"></a></dt>
<dd><p>Boolean. If <code>FALSE</code> (default), QC samples are excluded when implementing <code>filterMissing</code>.</p></dd>


<dt id="arg-denmissing">denMissing<a class="anchor" aria-label="anchor" href="#arg-denmissing"></a></dt>
<dd><p>Numeric. Denominator value used in the fraction <code>1/denMissing</code> to replace missing values.</p></dd>


<dt id="arg-driftbatchcorrection">driftBatchCorrection<a class="anchor" aria-label="anchor" href="#arg-driftbatchcorrection"></a></dt>
<dd><p>Boolean. If <code>TRUE</code> (default), perform QC-RSC algorithm for signal drift and batch effect correction.</p></dd>


<dt id="arg-spline-smooth-param">spline_smooth_param<a class="anchor" aria-label="anchor" href="#arg-spline-smooth-param"></a></dt>
<dd><p>Numeric. Spline smoothing parameter ranging from 0 to 1.</p></dd>


<dt id="arg-spline-smooth-param-limit">spline_smooth_param_limit<a class="anchor" aria-label="anchor" href="#arg-spline-smooth-param-limit"></a></dt>
<dd><p>Vector. A vector of format <code>c(min, max)</code> for spline parameter limits.</p></dd>


<dt id="arg-log-scale">log_scale<a class="anchor" aria-label="anchor" href="#arg-log-scale"></a></dt>
<dd><p>Boolean. If <code>TRUE</code> (default), performs signal correction fit on log-scaled data.</p></dd>


<dt id="arg-min-qc">min_QC<a class="anchor" aria-label="anchor" href="#arg-min-qc"></a></dt>
<dd><p>Numeric. Minimum number of QC samples required for signal correction per batch.</p></dd>


<dt id="arg-removeuncorrectedfeatures">removeUncorrectedFeatures<a class="anchor" aria-label="anchor" href="#arg-removeuncorrectedfeatures"></a></dt>
<dd><p>Boolean. If <code>TRUE</code> (default), removes features that were not corrected by QCRSC due to insufficient QC samples meeting the min_QC threshold.</p></dd>


<dt id="arg-datanormalize">dataNormalize<a class="anchor" aria-label="anchor" href="#arg-datanormalize"></a></dt>
<dd><p>String. Data normalization method. Options:</p><ul><li><p><code>"none"</code>: No normalization</p></li>
<li><p><code>"Normalization"</code>: Using the values from "Normalization" row</p></li>
<li><p><code>"sum"</code>: By sum</p></li>
<li><p><code>"median"</code>: By median</p></li>
<li><p><code>"PQN1"</code>: By median of reference spectrum</p></li>
<li><p><code>"PQN2"</code>: By reference sample supplied in <code>refSample</code></p></li>
<li><p><code>"groupPQN"</code>: By group in <code>c("SQC", "EQC", "QC")</code>, if both (default) then all QCs are considered as QC</p></li>
<li><p><code>"quantile"</code>: By quantile</p></li>
</ul><p>Default: "Normalization" (if present, otherwise, "sum")</p></dd>


<dt id="arg-refsample">refSample<a class="anchor" aria-label="anchor" href="#arg-refsample"></a></dt>
<dd><p>String. Reference sample for <code>dataNormalize = "PQN2"</code>.</p></dd>


<dt id="arg-groupsample">groupSample<a class="anchor" aria-label="anchor" href="#arg-groupsample"></a></dt>
<dd><p>String. Used only if <code>dataNormalize = "groupPQN"</code>.</p></dd>


<dt id="arg-reference-method">reference_method<a class="anchor" aria-label="anchor" href="#arg-reference-method"></a></dt>
<dd><p>String. Method for computing reference from QC samples in <code>dataNormalize = "quantile"</code>. Options:</p><ul><li><p><code>"mean"</code>: Default</p></li>
<li><p><code>"median"</code></p></li>
</ul></dd>


<dt id="arg-datatransform">dataTransform<a class="anchor" aria-label="anchor" href="#arg-datatransform"></a></dt>
<dd><p>String. Data transformation method applied after <code>dataNormalize</code>. Options:</p><ul><li><p><code>"none"</code>: No transformation</p></li>
<li><p><code>"log2"</code>: log base 2</p></li>
<li><p><code>"log10"</code>: log base 10</p></li>
<li><p><code>"sqrt"</code>: Square-root</p></li>
<li><p><code>"cbrt"</code>: Cube-root</p></li>
<li><p><code>"vsn"</code>: Variance Stabilizing Normalization</p></li>
</ul></dd>


<dt id="arg-datascalepca">dataScalePCA<a class="anchor" aria-label="anchor" href="#arg-datascalepca"></a></dt>
<dd><p>String. Data scaling for PCA analysis. Options:</p><ul><li><p><code>"none"</code>: No data scaling</p></li>
<li><p><code>"mean"</code>: Scale by mean (average)</p></li>
<li><p><code>"meanSD"</code>: Scale by mean divided by standard deviation (SD)</p></li>
<li><p><code>"mean2SD"</code>: Pareto-scaling. Scale by mean divided by square-root of SD. Always use this for PLS-type analysis.</p></li>
</ul></dd>


<dt id="arg-datascalepls">dataScalePLS<a class="anchor" aria-label="anchor" href="#arg-datascalepls"></a></dt>
<dd><p>String. Data scaling for PLS analysis. Same options as <code>dataScalePCA</code>.</p></dd>


<dt id="arg-filtermaxrsd">filterMaxRSD<a class="anchor" aria-label="anchor" href="#arg-filtermaxrsd"></a></dt>
<dd><p>Numeric. Threshold for RSD filtering.</p></dd>


<dt id="arg-filtermaxrsd-by">filterMaxRSD_by<a class="anchor" aria-label="anchor" href="#arg-filtermaxrsd-by"></a></dt>
<dd><p>String. Which QC samples to use for RSD filtering. Options:</p><ul><li><p><code>"SQC"</code>: Filter by sample QC</p></li>
<li><p><code>"EQC"</code>: Filter by extract QC (default)</p></li>
<li><p><code>"both"</code>: Filter by by both SQC and EQC (or QC altogether)</p></li>
</ul></dd>


<dt id="arg-filtermaxvarsd">filterMaxVarSD<a class="anchor" aria-label="anchor" href="#arg-filtermaxvarsd"></a></dt>
<dd><p>Numeric. Remove <code>nth percentile</code> of features with lowest variability.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. Whether to print detailed progress messages. Default TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing results from all preprocessing steps.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="perform_DataQualityCheck.html">perform_DataQualityCheck</a></code> for the data quality check</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>John Lennon L. Calorio</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Lennon Calorio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

